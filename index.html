<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Package Workflow for Analysis • pkg.drugage</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Package Workflow for Analysis">
<meta property="og:description" content="The pkg.drugage package provides an end-to-end workflow for downloading, cleaning, exploring, and analyzing data from surveys related to drug use and health. It includes functions for directory creation, data cleaning, data downloading, exploratory data analysis (EDA), CSV data loading, and model training and evaluation. Designed to streamline the analysis of large-scale survey data, this package integrates popular R packages like caret, dplyr, and workflows for efficient handling of data preprocessing, modeling, and evaluation.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">pkg.drugage</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/druguse-vignette.html">pkg.druguse Vignette: Classification of Age Groups Based on Drug Use Patterns</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/DSCI-310-2025/pkg.drugage/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="pkgdrugage">pkg.drugage<a class="anchor" aria-label="anchor" href="#pkgdrugage"></a>
</h1></div>
<!-- badges: start -->

<p><a href="https://opensource.org/licenses/MIT" class="external-link"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a> <a href="https://creativecommons.org/publicdomain/zero/1.0/" class="external-link"><img src="https://img.shields.io/badge/License-CC0-lightgrey.svg" alt="License: CC0"></a> <a href="https://github.com/DSCI-310-2025/pkg.drugage/blob/main/DESCRIPTION" class="external-link"><img src="https://img.shields.io/badge/R-%3E%3D4.0.0-blue" alt="R version"></a> <a href="https://github.com/DSCI-310-2025/pkg.drugage" class="external-link"><img src="https://img.shields.io/badge/dev%20version-1.0.0-brightgreen" alt="Dev version"></a> <!-- badges: end --></p>
<p>The goal of <code>pkg.drugage</code> is to provide functions to streamline the creation of data classification models. This package was originally developed with the intention of creating a classificiation model able to categorize data into youth vs. adult groups based on the trend of drug use/frequency, but its functions can be applied to any similar scenario.</p>
<div class="section level3">
<h3 id="table-of-contents">Table of Contents<a class="anchor" aria-label="anchor" href="#table-of-contents"></a>
</h3>
<ul>
<li><a href="#ecosystem-context">Ecosystem Context</a></li>
<li><a href="#functions">Functions in the Package</a></li>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#example">Example Use</a></li>
<li><a href="#code-of-conduct">Code of Conduct</a></li>
<li><a href="#licenses">Licenses</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="ecosystem-context">Ecosystem Context<a class="anchor" aria-label="anchor" href="#ecosystem-context"></a>
</h2>
<p>In the R ecosystem, <code>pkg.drugage</code> complements existing packages such as:</p>
<ul>
<li>
<strong><code>tidymodels</code></strong>: While <code>tidymodels</code> offers a comprehensive framework for modeling, <code>pkg.drugage</code> provides convenience functions specifically tailored for classification workflows, including pre-processing steps and visualization helpers.</li>
<li>
<strong><code>caret</code></strong>: Similar to <code>caret</code>, <code>pkg.drugage</code> supports training and evaluating models, but focuses more narrowly on binary classification use cases and integrates more tightly with age-group classification logic.</li>
<li>
<strong><code>janitor</code></strong> and <strong><code>skimr</code></strong>: These offer data cleaning and summary tools, while <code>pkg.drugage</code> includes domain-specific cleaning for age-group classification in addition to generalized preprocessing.</li>
</ul>
<p>Unlike broader frameworks, <code>pkg.drugage</code> prioritizes accessibility, domain focus, and end-to-end reproducibility for education and research scenarios.</p>
</div>
<div class="section level2">
<h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h2>
<ul>
<li>
<code>download_data</code>: Downloads a file from a given URL and saves it to a specified destination.</li>
<li>
<code>create_directory</code>: Checks if the specified directory exists, and creates the directory path if necessary.</li>
<li>
<code>data_cleaning</code>: Cleans the dataset, classifies individuals into age groups and saves the cleaned dataset to a given path.</li>
<li>
<code>eda_functions</code>: Performs exploratory data analysis (EDA) on the cleaned dataset, such as creating bar and scatter plots to visualize the raw data.</li>
<li>
<code>train_and_predict</code>: Takes a model specification and a recipe, fits the model on the training data, and returns class predictions on the testing data.</li>
<li>
<code>create_confusion_matrix</code>: Takes model predictions, generates a confusion matrix and saves it as a PNG figure and as a CSV table in the specified output directory. Returns the ggplot object used to create the plot.</li>
</ul>
</div>
<div class="section level2">
<h2 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a>
</h2>
<p><strong>R Dependencies</strong></p>
<ul>
<li>
<code>docopt</code>: 0.7.1</li>
<li>
<code>dplyr</code>: 1.1.4</li>
<li>
<code>parsnip</code>: 1.3.1</li>
<li>
<code>pointblank</code>: 0.12.2</li>
<li>
<code>readr</code>: 2.1.5</li>
<li>
<code>recipes</code>: 1.1.1</li>
<li>
<code>rsample</code>: 1.2.1</li>
<li>
<code>tidyr</code>: 1.3.1</li>
<li>
<code>workflows</code>: 1.2.0</li>
</ul>
<p>These dependencies will be automatically installed when running <code>pak::pak("DSCI-310-2025/pkg.drugage")</code> to install the package.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of pkg.drugage from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"pak"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"DSCI-310-2025/pkg.drugage"</span><span class="op">)</span></span></code></pre></div>
<p>Then load the package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/DSCI-310-2025/pkg.drugage" class="external-link">pkg.drugage</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>The following is a basic example which shows you how to use some of the functions:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/DSCI-310-2025/pkg.drugage" class="external-link">pkg.drugage</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create sample data</span></span>
<span><span class="va">sample_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span> age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"18-24"</span>, <span class="st">"25-34"</span>, <span class="st">"35-44"</span><span class="op">)</span>,</span>
<span> alcohol.use <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">80</span>, <span class="fl">75</span>, <span class="fl">60</span><span class="op">)</span>,</span>
<span> alcohol.frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">15</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span> marijuana.use <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">30</span>, <span class="fl">20</span><span class="op">)</span>,</span>
<span> heroin.frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span> class <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"youth"</span>, <span class="st">"adult"</span>, <span class="st">"adult"</span><span class="op">)</span>,</span>
<span> n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">200</span>, <span class="fl">150</span><span class="op">)</span><span class="op">)</span></span>
<span> </span>
<span><span class="co"># Clean data</span></span>
<span><span class="va">cleaned_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/clean_drug_use_data.html">clean_drug_use_data</a></span><span class="op">(</span><span class="va">sample_data</span><span class="op">)</span></span>
<span><span class="va">classified_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/classify_age_group.html">classify_age_group</a></span><span class="op">(</span><span class="va">cleaned_data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">classified_data</span><span class="op">)</span></span>
<span><span class="co">#&gt;     age alcohol.use alcohol.frequency marijuana.use heroin.frequency class   n</span></span>
<span><span class="co">#&gt; 1 18-24          80                20            50                5 adult 100</span></span>
<span><span class="co">#&gt; 2 25-34          75                15            30                3 adult 200</span></span>
<span><span class="co">#&gt; 3 35-44          60                10            20                2 adult 150</span></span>
<span></span>
<span><span class="co"># EDA</span></span>
<span><span class="fu"><a href="reference/create_bar_use_plot.html">create_bar_use_plot</a></span><span class="op">(</span></span>
<span><span class="va">sample_data</span>,</span>
<span><span class="st">"age"</span>,</span>
<span><span class="st">"alcohol.use"</span>,</span>
<span><span class="st">"Alcohol Use"</span>,</span>
<span><span class="st">"Age"</span>,</span>
<span><span class="st">"Proportion"</span>,</span>
<span><span class="st">"dodgerblue"</span>,</span>
<span><span class="st">"man/figures/README-test1.png"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="60%" height="60%"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">sample_aggregated</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/aggregate_data.html">aggregate_data</a></span><span class="op">(</span><span class="va">sample_data</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/create_grouped_bar_plot.html">create_grouped_bar_plot</a></span><span class="op">(</span></span>
<span><span class="va">sample_aggregated</span>,</span>
<span><span class="st">"Youth vs. Adult Comparison"</span>,</span>
<span><span class="st">"Substance Type"</span>,</span>
<span><span class="st">"Mean Substance Use (%)"</span>,</span>
<span><span class="st">"man/figures/README-test6.png"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-2.png" width="60%" height="60%"></p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that <code>pkg.drugage</code> is released with a <a href="https://dsci-310-2025.github.io/pkg.drugage/CODE_OF_CONDUCT.md" class="external-link">Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div class="section level2">
<h2 id="licenses">Licenses<a class="anchor" aria-label="anchor" href="#licenses"></a>
</h2>
<p>This project is dual-licensed under the following:</p>
<ul>
<li><p><strong><a href="https://creativecommons.org/publicdomain/zero/1.0/" class="external-link">Creative Commons Zero v1.0 Universal (CC0 1.0)</a></strong> You can copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission.</p></li>
<li><p><strong><a href="LICENSE.html">MIT License</a></strong><br>
A short and permissive software license. You can use it in proprietary software provided that all copies include the license terms and the copyright notice.</p></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/DSCI-310-2025/pkg.drugage/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/DSCI-310-2025/pkg.drugage/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing pkg.drugage</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Nazia Edroos <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/DSCI-310-2025/pkg.drugage/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/DSCI-310-2025/pkg.drugage/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/DSCI-310-2025/pkg.drugage" class="external-link"><img src="https://codecov.io/gh/DSCI-310-2025/pkg.drugage/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://dsci-310-2025.github.io/pkg.drugage/" class="external-link"><img src="https://github.com/DSCI-310-2025/pkg.drugage/actions/workflows/pkgdown.yaml/badge.svg" alt="pkgdown"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Nazia Edroos.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
