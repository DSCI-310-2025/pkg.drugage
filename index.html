<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Package Workflow for Analysis • pkg.drugage</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Package Workflow for Analysis">
<meta property="og:description" content="The pkg.drugage package provides an end-to-end workflow for downloading, cleaning, exploring, and analyzing data from surveys related to drug use and health. It includes functions for directory creation, data cleaning, data downloading, exploratory data analysis (EDA), CSV data loading, and model training and evaluation. Designed to streamline the analysis of large-scale survey data, this package integrates popular R packages like caret, dplyr, and workflows for efficient handling of data preprocessing, modeling, and evaluation.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">pkg.drugage</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/DSCI-310-2025/pkg.drugage/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="pkgdrugage">pkg.drugage<a class="anchor" aria-label="anchor" href="#pkgdrugage"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of pkg.drugage is to provide functions to streamline the creation of data classification models. This package was originally developed with the intention of creating a classficiation model able to categorize data into youth vs. adult groups based on the trend of drug use/frequency, but its functions can be applied to any similar scenario.</p>
<div class="section level2">
<h2 id="ecosystem-context">Ecosystem Context<a class="anchor" aria-label="anchor" href="#ecosystem-context"></a>
</h2>
<p>In the R ecosystem, <code>pkg.drugage</code> complements existing packages such as:</p>
<ul>
<li>
<strong><code>tidymodels</code></strong>: While <code>tidymodels</code> offers a comprehensive framework for modeling, <code>pkg.drugage</code> provides convenience functions specifically tailored for classification workflows, including pre-processing steps and visualization helpers.</li>
<li>
<strong><code>caret</code></strong>: Similar to <code>caret</code>, <code>pkg.drugage</code> supports training and evaluating models, but focuses more narrowly on binary classification use cases and integrates more tightly with age-group classification logic.</li>
<li>
<strong><code>janitor</code></strong> and <strong><code>skimr</code></strong>: These offer data cleaning and summary tools, while <code>pkg.drugage</code> includes domain-specific cleaning for age-group classification in addition to generalized preprocessing.</li>
</ul>
<p>Unlike broader frameworks, <code>pkg.drugage</code> prioritizes accessibility, domain focus, and end-to-end reproducibility for education and research scenarios.</p>
</div>
<div class="section level2">
<h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h2>
<ul>
<li>
<code>download_data</code>: Downloads a file from a given URL and saves it to a specified destination.</li>
<li>
<code>create_directory</code>: Checks if the specified directory exists, and creates the directory path if necessary.</li>
<li>
<code>data_cleaning</code>: Cleans the dataset, classifies individuals into age groups and saves the cleaned dataset to a given path.</li>
<li>
<code>eda_functions</code>: Performs exploratory data analysis (EDA) on the cleaned dataset, such as creating bar and scatter plots to visualize the raw data.</li>
<li>
<code>train_and_predict</code>: Takes a model specification and a recipe, fits the model on the training data, and returns class predictions on the testing data.</li>
<li>
<code>create_confusion_matrix</code>: Takes model predictions, generates a confusion matrix and saves it as a PNG figure and as a CSV table in the specified output directory. Returns the ggplot object used to create the plot.</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of pkg.drugage from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"DSCI-310-2025/pkg.drugage"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to solve a common problem:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/DSCI-310-2025/pkg.drugage" class="external-link">pkg.drugage</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Downloading data and preparing for cleaning</span></span>
<span><span class="fu"><a href="reference/create_directory.html">create_directory</a></span><span class="op">(</span><span class="st">"data/raw"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/download_data.html">download_data</a></span><span class="op">(</span></span>
<span>  url <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/rudeboybert/fivethirtyeight/refs/heads/master/data-raw/drug-use-by-age/drug-use-by-age.csv"</span>,</span>
<span>  dest <span class="op">=</span> <span class="st">"data/raw"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clean data</span></span>
<span><span class="va">cleaned_data</span> <span class="op">&lt;-</span> <span class="fu">clean_drug_use</span><span class="op">(</span><span class="st">"data/raw/drug-use-by-age.csv"</span><span class="op">)</span></span>
<span><span class="va">classified_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/classify_age_group.html">classify_age_group</a></span><span class="op">(</span><span class="va">cleaned_data</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/save_data.html">save_data</a></span><span class="op">(</span><span class="va">classified_data</span>, <span class="st">"data/clean/data-cleaned.csv"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>This project is dual-licensed under the following licenses:</p>
<ul>
<li><p><strong><a href="https://creativecommons.org/publicdomain/zero/1.0/" class="external-link">Creative Commons Zero v1.0 Universal (CC0 1.0)</a></strong> You can copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission.</p></li>
<li><p><strong><a href="LICENSE.html">MIT License</a></strong><br>
A short and permissive software license. You can use it in proprietary software provided that all copies include the license terms and the copyright notice.</p></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/DSCI-310-2025/pkg.drugage/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/DSCI-310-2025/pkg.drugage/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing pkg.drugage</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Nazia Edroos <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/DSCI-310-2025/pkg.drugage/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/DSCI-310-2025/pkg.drugage/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/DSCI-310-2025/pkg.drugage" class="external-link"><img src="https://codecov.io/gh/DSCI-310-2025/pkg.drugage/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Nazia Edroos.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
